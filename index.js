import{a as L,S as v,i as l}from"./assets/vendor-CRCB-GUD.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const m of t.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function a(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(r){if(r.ep)return;r.ep=!0;const t=a(r);fetch(r.href,t)}})();const h=async(e,o,a)=>{const s=new URLSearchParams({per_page:a,page:o,safesearch:"true",image_type:"photo",orientation:"horizontal",key:"45720835-cd950b20c56733b9244c71a24",q:e});return(await L.get(`https://pixabay.com/api/?${s}`)).data},f=e=>`<li class="gallery-item">
  <a class="img-link" href="${e.largeImageURL}">
  <img class="gallery-img" src="${e.webformatURL}" alt="${e.tags}" width="360" height="200"/>
  </a>
  <div class="inf-box">
  <b class="img-prop">Likes: <span class="img-prop-value">${e.likes}</span></b>
  <b class="img-prop">Views: <span class="img-prop-value">${e.views}</span></b>
  <b class="img-prop">Comments: <span class="img-prop-value">${e.comments}</span></b>
  <b class="img-prop">Downloads: <span class="img-prop-value">${e.downloads}</span></b>
  </div>
  </li>`,w=(e,o)=>{o.innerHTML=e},S=e=>{e.innerHTML=""},b=new v(".gallery-item a",{captionsData:"alt",captionDelay:250,overlayOpacity:.8}),u=document.querySelector(".form"),p=document.querySelector(".gallery"),y=document.querySelector("#load-more-loader-top"),n=document.querySelector("#button-load-more"),i=document.querySelector("#load-more-loader"),q=document.querySelector(".gallery-item");let d=1,g=15,c="";u.addEventListener("submit",e=>{e.preventDefault(),c=u.elements.user_query.value.trim(),S(p),y.classList.add("loader"),(async()=>{try{const s=await h(c,d,g);s.total===0&&(l.error({message:"Sorry, there are no images matching your search query. Please try again!"}),n.classList.add("button-load-more"));const r=s.hits.map(t=>f(t)).join("");w(r,p),b.refresh(),y.classList.remove("loader")}catch(s){l.error({message:`Oops! Something went wrong. Erorr: ${s}`})}})(),n.classList.add("button-load-more"),i.classList.remove("loader");const a=q.getBoundingClientRect();scrollBy({top:a.height*2,behavior:"smooth"})});n.addEventListener("click",async()=>{if(n.classList.remove("button-load-more"),c===""){l.error({message:"Please enter a subject for the photo"});return}i.classList.add("loader"),c=u.elements.user_query.value.trim();try{d+=1;const e=await h(c,d,g),o=e.hits.map(s=>f(s)).join(""),a=Math.ceil(e.total/g);if(d>a)return i.classList.remove("loader"),l.error({message:"We're sorry, but you've reached the end of search results."});p.insertAdjacentHTML("beforeend",o),i.classList.remove("loader"),b.refresh()}catch(e){l.error({message:`Oops! Something went wrong. Erorr: ${e}`})}n.classList.add("button-load-more")});
//# sourceMappingURL=index.js.map
